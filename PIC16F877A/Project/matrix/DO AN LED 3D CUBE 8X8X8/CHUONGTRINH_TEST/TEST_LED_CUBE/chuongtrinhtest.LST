C51 COMPILER V9.00   CHUONGTRINHTEST                                                       04/23/2015 11:21:43 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE CHUONGTRINHTEST
OBJECT MODULE PLACED IN chuongtrinhtest.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE chuongtrinhtest.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <REGX51.H>
   2          sfr quetlop=0xA0;
   3          sfr dieukhien=0xB0;
   4          sfr dulieu=0x90; 
   5          unsigned char i,a,b,c,d;
   6          
   7          void delay(unsigned int time)
   8                  {
   9   1              unsigned int i;
  10   1              for(i=0;i<=time;i++);
  11   1              }
  12                  //////////////////
  13                  void delay_quet(int t)                                                  //delay
  14          {int i;
  15   1      unsigned char b;
  16   1      for (i=0;i<t;i++){for(b=0;b<125;b++){;}}
  17   1      }
  18          ///////
  19          void xoa()
  20          {
  21   1      quetlop=0x00;
  22   1      dieukhien=0xff;
  23   1      dulieu=0x00;
  24   1      delay_quet(5);
  25   1      }
  26          void delay_s(unsigned int time)
  27          {unsigned char a;
  28   1              for(a=0;a<time;a++)
  29   1              {
  30   2                      TMOD=0x01;
  31   2                      TH0=0x3c;
  32   2                      TL0=0x60;
  33   2                      TR0=1;
  34   2                      while(!TF0);
  35   2                      TR0=TF0=0;
  36   2              }
  37   1      }
  38          ////////////////
  39          void sanghet()
  40          {
  41   1      dulieu=0xff;
  42   1      quetlop=0xff;
  43   1      dieukhien=0x00;
  44   1      delay_s(60);
  45   1      }
  46          ///////////////
  47          void tathet()
  48          {
  49   1      xoa();
  50   1      delay_s(20);
  51   1      }
  52          ////////////
  53          unsigned char mangtestlop[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
  54          void testlop()
  55          {       xoa();
C51 COMPILER V9.00   CHUONGTRINHTEST                                                       04/23/2015 11:21:43 PAGE 2   

  56   1              delay_s(10);
  57   1              for(i=0;i<8;i++)
  58   1              {
  59   2              dieukhien=0x00;
  60   2              dulieu=0xff;
  61   2              quetlop=mangtestlop[i];
  62   2              delay_s(10);
  63   2              xoa();
  64   2              delay(10);
  65   2              }
  66   1              for(i=0;i<8;i++)
  67   1              {
  68   2              dieukhien=0x00;
  69   2              dulieu=0xff;
  70   2              quetlop=mangtestlop[7-i];
  71   2              delay_s(10);
  72   2              xoa();
  73   2              delay(10);
  74   2      }
  75   1      
  76   1      }
  77          //////////////////////////
  78          unsigned char mangtesthang[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
  79          void testhang()
  80          {
  81   1      xoa();
  82   1      delay_s(10);
  83   1      for(i=0;i<8;i++)
  84   1      {
  85   2      quetlop=0xff;
  86   2      dieukhien=mangtesthang[i];
  87   2      dulieu=0xff;
  88   2      }
  89   1      xoa();
  90   1      delay_s(10);
  91   1      for(i=0;i<8;i++)
  92   1      {
  93   2      quetlop=0xff;
  94   2      dieukhien=mangtesthang[7-i];
  95   2      dulieu=0xff;
  96   2      }
  97   1      }
  98          ///////////////
  99          unsigned char mangtestcot[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
 100          unsigned char mangdktestcot[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
 101          void testcot()
 102          {
 103   1      //hang1
 104   1      for(a=0;a<8;a++)
 105   1      {       
 106   2              for(i=0;i<8;i++)
 107   2              {
 108   3              xoa();
 109   3              quetlop=0xff;
 110   3              dulieu=mangtestcot[i];
 111   3              dieukhien=~mangdktestcot[a];
 112   3              delay_s(5);
 113   3              xoa();
 114   3              delay(10);
 115   3      }
 116   2      }
 117   1      }
C51 COMPILER V9.00   CHUONGTRINHTEST                                                       04/23/2015 11:21:43 PAGE 3   

 118          ////////////
 119          unsigned char chonic[8]={0xFE,0xFD,0xFB,0xF7,0xEF,0xDF,0xBF,0x7F};
 120          unsigned char mangtesttungled[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
 121          unsigned char chonlop[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
 122          void testtungled()
 123          {
 124   1      for(b=0;b<8;b++)
 125   1      {
 126   2      for(i=0;i<8;i++)
 127   2      {
 128   3              for(a=0;a<8;a++)
 129   3              {
 130   4                      quetlop=chonlop[b];
 131   4                      dulieu=mangtesttungled[a];
 132   4                      dieukhien=chonic[i];
 133   4                      delay_s(10);
 134   4                      xoa();
 135   4                      delay(20);
 136   4              }
 137   3              }
 138   2              }
 139   1      
 140   1      }
 141          ///////////
 142          void test_mang()
 143          { 
 144   1              for(i=0;i<8;i++)
 145   1              {
 146   2                      quetlop=0xff;
 147   2                      dulieu=0xff;;
 148   2                      dieukhien=chonic[i];
 149   2                      delay_s(10);
 150   2                      xoa();
 151   2                      delay(20);
 152   2              }
 153   1      }
 154          
 155          //////////////////
 156          void song_ngang2(int lap,int toc_do)
 157          {  unsigned char n,y,z;
 158   1      unsigned char code ma[12][64]={
 159   1         {0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,
 160   1      0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
 161   1      0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
 162   1      0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,
 163   1      },
 164   1         {0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x09,0x09,0x09,0x09,0x09,0x09,0x09,0x09,
 165   1      0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
 166   1      0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
 167   1      0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 168   1      },
 169   1         {0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x12,0x12,0x12,0x12,0x12,0x12,0x12,0x12,
 170   1      0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,
 171   1      0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
 172   1      0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 173   1      },
 174   1         {0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,
 175   1      0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,
 176   1      0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,
 177   1      0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 178   1      },
 179   1         {0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x48,0x48,0x48,0x48,0x48,0x48,0x48,0x48,
C51 COMPILER V9.00   CHUONGTRINHTEST                                                       04/23/2015 11:21:43 PAGE 4   

 180   1      0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,
 181   1      0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
 182   1      0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 183   1      },
 184   1         {0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,
 185   1      0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
 186   1      0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,
 187   1      0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
 188   1      },
 189   1         {0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
 190   1      0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
 191   1      0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
 192   1      0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
 193   1      },
 194   1         {0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
 195   1      0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
 196   1      0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,
 197   1      0x09,0x09,0x09,0x09,0x09,0x09,0x09,0x09,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
 198   1      },
 199   1         {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 200   1      0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,
 201   1      0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21,
 202   1      0x12,0x12,0x12,0x12,0x12,0x12,0x12,0x12,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,
 203   1      },
 204   1         {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 205   1      0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,0x81,
 206   1      0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,
 207   1      0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
 208   1      },
 209   1         {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
 210   1      0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
 211   1      0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,
 212   1      0x48,0x48,0x48,0x48,0x48,0x48,0x48,0x48,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,
 213   1      },
 214   1         {0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,
 215   1      0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x04,
 216   1      0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
 217   1      0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x60,
 218   1      },
 219   1      };
 220   1      for(a=0;a<lap;a++)
 221   1      {
 222   2          for(n=0;n<12;n++)       //trangthai
 223   2          {
 224   3          for(i=0;i<toc_do;i++)    //to do
 225   3          {
 226   4            for(z=0;z<8;z++)
 227   4            {
 228   5               for(y=0;y<8;y++)
 229   5               {
 230   6                  dulieu=ma[n][8*z+y];
 231   6                  dieukhien=chonic[y];
 232   6               }
 233   5                       quetlop=chonlop[z];
 234   5                       delay_quet(2);
 235   5               dulieu=quetlop=0x00;  
 236   5                                 
 237   5            }
 238   4            
 239   4        }
 240   3      }
 241   2      }
C51 COMPILER V9.00   CHUONGTRINHTEST                                                       04/23/2015 11:21:43 PAGE 5   

 242   1      }       
 243          //////////////
 244          void main()
 245          {
 246   1      while(1)
 247   1      {
 248   2      sanghet();
 249   2      xoa();
 250   2      tathet();
 251   2      xoa();
 252   2      testlop();
 253   2      xoa();
 254   2      test_mang();
 255   2      xoa();                                                                                                          
 256   2      testcot();
 257   2      xoa();
 258   2      testtungled();
 259   2      xoa();
 260   2      }
 261   1      }
 262          
 263          
 264          
 265          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    605    ----
   CONSTANT SIZE    =    768    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     61       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
