#include <16f877A.h>
#device *=16  //su dung Full Ram 368byte
#device adc=10

#FUSES NOWDT                      //Watch Dog Timer
#FUSES HS                       //High speed Osc (> 4mhz for PCM/PCH) (>10mhz for PCD)
#FUSES NOBROWNOUT               //No brownout reset
#FUSES NOLVP                    //No low voltage prgming, B3(PIC16) or B5(PIC18) used for I/O

#use delay(clock=20000000,RESTART_WDT)

#use i2c(sda=PIN_C4, scl=PIN_C3)  // su dung i2c
#use fast_io(B)
#use fast_io(D)
#use fast_io(E)

#define CLK RE0 // Xung clock 595
#define EN  RE1 // Enable 595

#define Enter     RB0
#define MenuDown  RB1
#define Esc       RB2
#define Up        RB3
#define Down      RB4

//Khai bao mang 2 chieu dung chuyen doi am lich Viet Nam
const unsigned char ALdauthangDL[22][12] = {
   {17,18,16,27,18,19,20,21,23,24,25,26},//2010
   {27,29,27,28,29,30, 1, 2, 4, 5, 6, 7},//2011
   { 8,10, 9,11,11,12,13,14,16,16,18,18},//2012
   {20,21,20,21,22,23,24,25,26,27,28,29},//2013
   { 1, 2, 1, 2, 3, 4, 5, 6, 8, 8, 9,10},//2014
   {11,13,11,13,13,15,16,17,19,19,20,20},//2015
   {22,23,23,24,25,26,27,29, 1, 1, 2, 3},//2016
   { 4, 5, 4, 5, 6, 7, 8,10,11,12,13,14},//2017
   {15,16,14,16,16,18,18,20,22,22,24,25},//2018
   {26,27,25,27,27,28,29, 1, 3, 3, 5, 6},//2019
   { 7, 8, 8, 9, 9,10,11,12,14,15,16,17},//2020

   {19,20,18,20,20,21,22,23,25,25,27,27},//2021
   {29, 1,29, 1, 1, 3, 3, 4, 6, 6, 8, 8},//2022
   {10,11,20,11,12,14,14,15,17,17,18,19},//2023
   {20,22,21,23,23,25,26,27,29,29, 1, 1},//2024
   { 2, 4, 2, 4, 4, 6, 7, 8,10,10,12,12},//2025
   {13,14,13,14,15,16,17,19,20,21,23,23},//2026
   {24,25,24,25,25,27,27,29, 1, 2, 4, 4},//2027   
   { 5, 7, 6, 7, 7, 9, 9,11,13,13,15,16},//2028
   {17,18,17,18,18,20,20,22,23,24,25,26},//2029
   {28,29,28,29,29, 1, 1, 3, 4, 5, 6, 7}//2030
};

const unsigned char thangALdauthangDL[22][12] = {
   {11,12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10},//2010
   {11,12, 1, 2, 3, 4, 6, 7, 8, 9,10,11},//2011
   {12, 1, 2, 3, 4, 4, 5, 6, 7, 8, 9,10},//2012
   {11,12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10},//2013
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 9,10},//2014
   {11,12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10},//2015
   {11,12, 1, 2, 3, 4, 5, 6, 8, 9,10,11},//2016
   {12, 1, 2, 3, 4, 5, 6, 6, 7, 8, 9,10},//2017
   {11,12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10},//2018
   {11,12, 1, 2, 3, 4, 5, 7, 8, 9,10,11},//2019
   {12, 1, 2, 3, 4, 4, 5, 6, 7, 8, 9,10},//2020

   {11,12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10},//2021
   {11, 1, 1, 3, 4, 5, 6, 7, 8, 9,10,11},//2022
   {12, 1, 2, 2, 3, 4, 5, 6, 7, 8, 9,10},//2023
   {11,12, 1, 2, 3, 4, 5, 6, 7, 8,10,11},//2024
   {12, 1, 2, 3, 4, 5, 6, 6, 7, 8, 9,10},//2025
   {11,12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10},//2026
   {11,12, 1, 2, 3, 4, 5, 6, 8, 9,10,11},//2027
   {12, 1, 2, 3, 4, 5, 5, 6, 7, 8, 9,10},//2028
   {11,12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10},//2029
   {11,12, 1, 2, 3, 5, 6, 7, 8, 9,10,11}//2030
};

const unsigned char DLdauthangAL[22][12] = {
   {15,14,16, 5,14,12,12,10, 8, 8, 6, 6},//2010
   { 4, 3, 5, 3, 3, 2,31,29,27,27,25,25},//2011
   {23,22,22,21,21,19,19,17,16,15,14,13},//2012
   {12,10,12,10,10, 8, 8, 7, 5, 5, 3, 3},//2013
   {31,31,31,29,29,27,27,25,24,24,22,22},//2014
   {20,19,20,19,18,16,16,14,13,13,12,11},//2015
   {10, 8, 9, 7, 7, 5, 4, 3, 1,31,29,29},//2016
   {28,26,28,26,26,24,23,22,20,20,18,18},//2017
   {17,16,17,16,15,14,13,11,10, 9, 7, 7},//2018
   { 6, 5, 6, 5, 5, 3, 3,30,29,28,26,26},//2019
   {25,23,24,23,23,21,21,19,17,17,15,14},//2020

   {13,12,13,12,12,10,10, 8, 7, 6, 5, 4},//2021
   { 3,29, 3,31,30,29,29,27,26,25,24,23},//2022
   {22,20,22,20,19,18,18,16,15,15,13,13},//2023
   {11,10,10, 9, 8, 6, 6, 4, 3, 3,31,31},//2024
   {29,28,29,28,27,25,25,23,22,21,20,20},//2025
   {19,17,19,17,17,15,14,13,11,10, 9, 9},//2026
   { 8, 6, 8, 7, 6, 5, 4, 1,30,29,28,28},//2027
   {26,25,26,25,24,23,22,20,19,18,16,16},//2028
   {15,23,15,14,13,12,11,10, 8, 8, 6, 5},//2029
   { 4, 2, 4,31, 2,30,30,29,27,27,25,25}//2030
};

const unsigned char thangALdauthangAL[22][12] = {
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,11},//2010
   {12, 1, 2, 3, 4, 5, 7, 8, 9,10,11,12},//2011
   { 1, 2, 3, 4, 4, 5, 6, 7, 8, 9,10,11},//2012
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,11},//2013
   { 1, 2, 3, 4, 5, 6, 7, 8, 9, 9,10,11},//2014
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,11},//2015
   {12, 1, 2, 3, 4, 5, 6, 7, 8,10,11,12},//2016
   { 1, 2, 3, 4, 5, 6, 6, 7, 8, 9,10,11},//2017
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,11},//2018
   {12, 1, 2, 3, 4, 5, 6, 8, 9,10,11,12},//2019
   { 1, 2, 3, 4, 4, 5, 6, 7, 8, 9,10,11},//2020
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,11},//2021
   {12, 1, 2, 3, 5, 6, 7, 8, 9,10,11,12},//2022
   { 1, 2, 2, 3, 4, 5, 6, 7, 8, 9,10,11},//2023
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,12},//2024
   { 1, 2, 3, 4, 5, 6, 6, 7, 8, 9,10,11},//2025
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,11},//2026
   {12, 1, 2, 3, 4, 5, 6, 7, 9,10,11,12},//2027
   { 1, 2, 3, 4, 5, 5, 6, 7, 8, 9,10,11},//2028
   {12, 1, 2, 3, 4, 5, 6, 7, 8, 9,10,11},//2029
   {12, 1, 2, 3, 4, 5, 7, 8, 9,10,11,12}//2030
};
